<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>NODE: 4</title>
    <link rel="stylesheet" href="assets/fonts.css">
    <link rel="stylesheet" href="assets/style.css">
    <link rel="stylesheet" href="assets/darcula.css">
</head>
<body>

<section class="header">
    <div class="header__content">
        <div class="header__subject">Sequelize</div>
        <div class="header__id">4</div>
    </div>
</section>

<section class="task">
    <div class="task__statement">
        We create a repository <span class="task__inline-code">node_4</span> on Github, clone it, open it in IDE
    </div>

    <div class="task__statement">
        To perform subsequent work, we will need a database. Let's choose one of the supported by the sequelize library, for example, mysql
    </div>

    <div class="task__statement">
        Let's create the files <span class="task__inline-code">index.js</span>, <span class="task__inline-code ">package.json</span>, <span class="task__inline-code">config.json</span>, <span class="task__inline-code">models/index.js</span>, <span class="task__inline-code">models/turtle.js</span>, <span class="task__inline-code">models/weapon.js</span> and <span class="task__inline-code">models/ pizza.js</span>
    </div>

    <div class="task__statement">
        File contents <span class="task__inline-code">index.js</span>:
        <pre><code class="task__code javascript">const Sequelize = require('sequelize');

const config = require('./config.json');

const db = require('./models')(Sequelize, config);

// TODO: database queries</code></pre>
    </div>

    <div class="task__statement">
        Contents of the file <span class="task__inline-code">models/index.js</span>:
        <pre><code class="task__code javascript">const Turtle = require('./turtle');
const Weapon = require('./weapon');
const Pizza = require('./pizza');

module.exports = (Sequelize, config) => {
// TODO: create an object to connect to the database - sequelize

const turtles = Turtle(Sequelize, sequelize);
const weapons = Weapon(Sequelize, sequelize);
const pizzas = Pizza(Sequelize , sequelize);

// TODO: create relationships between tables

return {
turtles,
weapons,
pizzas,

sequelize: sequelize,
Sequelize: Sequelize,
};
};</code></pre>
    </div>

    <div class="task__statement">
        Contents of the file <span class="task__inline-code">models/turtle.js</span>:
        <pre><code class ="task__code javascript">module.exports = (Sequelize, sequelize) => {
return sequelize.define('turtles', {
// TODO: field description
});
};</code></pre>
    </div >

    <div class="task__statement">
        Contents of file <span class="task__inline-code">models/weapon.js</span>:
        <pre><code class="task__code javascript">module.exports = (Sequelize, sequelize) => {
return sequelize.define('weapons', {
// TODO: field description
});
};</code></pre>
    </div>

    <div class="task__statement">
        Contents of the file <span class="task__inline-code">models/pizza.js</span>:
        <pre><code class ="task__code javascript">module.exports = (Sequelize, sequelize) => {
return sequelize.define('pizzas', {
// TODO: field description
});
};</code></pre>
    </div >
</section>

<section class="task">
    <div class="task__statement">
        We need to replace the <span class="task__inline-code">TODO</span> comments with code based on the requirements
    </div>

    <div class="task__statement">
        1. Ninja Turtle Model:
        <pre><code class="task__code json">"id": int / autoincrement
"name": string
"color": string
"weaponId": int
"firstFavoritePizzaId": int
"secondFavoritePizzaId": int</code></pre>
    </div>

    <div class="task__statement">
        2. Weapon Model:
        <pre><code class="task__code json">"id": int / autoincrement
"name": string
"dps": int</code></pre>
    </div>

    <div class="task__statement">
        3. Pizza model:
        <pre><code class="task__code json">"id": int / autoincrement
"name": string
"description": string
"calories": double</code></pre>
    </div>

    <div class="task__statement">
        4. Write code to synchronize models with the database.
    </div>

    <div class="task__statement">
        5. Implement CRUD for each of the models.
    </div>

    <div class="task__statement">
        6. Fill the tables with data. <span class="task__inline-code">Google</span> will help you find data for tables
    </div>
</section>

<section class="task">
    <div class="task__statement">
        Let's demonstrate various operations using sequelize
    </div>

    <div class="task__statement">
        1. Display all the Teenage Mutant Ninja Turtles
    </div>

    <div class="task__statement">
        2. Display all the Teenage Mutant Ninja Turtles whose favorite pizza is <span class="task__inline-code">"Mozzarella"</span>
    </div>

    <div class="task__statement">
        3. Display all pizzas marked as favorites without duplicates
    </div>

    <div class="task__statement">
        4. Create a fifth turtle with your name and favorite color. Don't forget about weapons
    </div>

    <div class="task__statement">
        5. Update all pizzas with a calorie count greater than <span class="task__inline-code">3000</span> by adding <span class="task__inline-code">"SUPER FAT!" to the description</span>
    </div>

    <div class="task__statement">
        6. Request the number of weapons with <span class="task__inline-code">dps</span> greater than <span class="task__inline-code">100</span>
    </div>

    <div class="task__statement">
        7. Find a pizza with <span class="task__inline-code">id</span> equal to <span class="task__inline-code">1</span>
    </div>

    <div class="task__statement">
        8. Add the fifth turtle's favorite pizza via the turtle object
    </div>

</section>

<section class="task">
    <div class="task__statement">
        Synchronize the local repository with the remote one (push to Github)
    </div>
</section>

<section class="task task_questions">
    <div class="task__statement">
        <input class="task__checkbox" type="checkbox">
        <span>
Show the commit history of your repository on Github
</span>
    </div>

    <div class="task__statement">
        <input class="task__checkbox" type="checkbox">
        <span>
Demonstrate how each of the task02 items works (screenshots)
</span>
    </div>
</section>

<section class="task task_extras">
    <div class="task__statement">
        <a class="task__link" target="_blank" href="http://docs.sequelizejs.com/">Sequelize Documentation</a>
    </div>
</section>

<section class="solution">
    <pre><code class="javascript"></code></pre>
</section>

<script src="assets/jquery-3.2.1.min.js"></script>
<script src="assets/highlight.pack.js"></script>
<script src="assets/script.js"></script>
</body>
</html>