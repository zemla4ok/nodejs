<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>NODEJS: TASK_3</title>
    <link rel="stylesheet" href="assets/fonts.css">
    <link rel="stylesheet" href="assets/style.css">
    <link rel="stylesheet" href="assets/darcula.css">
</head>
<body>

<section class="header">
    <div class="header__content">
        <div class="header__subject">Express.js</div>
        <div class="header__id">node_3</div>
    </div>
</section>

<section class="task">
    <div class="task__statement">
        We create a repository on GitHub <span class="task__inline-code">node_3</span>, clone it, open it in IDE
    </div>

    <div class="task__statement">
        Create a file <span class="task__inline-code">package.json</span> and install express using the terminal <span class="task__inline- code">npm i express</span>
    </div>
</section>

<section class="task">
    <div class="task__statement">
        Create a file <span class="task__inline-code">index.js</span>, in which we will write a simple server on express:
    </div>

    <pre><code class="task__code javascript">const express = require('express');
const app = express();

app.get(' /', (req, res) => {
res.send('Hello World!');
});

app.listen(3000, () => {
console.log('Example app listening on port 3000!');
})</code></pre>

    <div class="task__statement">
        Let's launch our server and go to address <span class="task__inline-code">http://127.0.0.1:3000</span> in
        browser
    </div>
</section>

<section class="task">
    <div class="task__statement">
        We need to develop an API for working with a collection of films
    </div>

    <div class="task__statement">
        1. Film model:
        <pre><code class="task__code json">"id": int / string
"title": string
"rating": string // rating
"year": int // year of release
"budget": int // budget
"gross": int // box office
"poster": string // poster url
"position": int // position in the rating</code></pre>
    </div>

    <div class="task__statement">
        2. Compile <span class="task__inline-code">top250.json</span> from <a target="_blank"
                                                                              href="https://www.kinopoisk.ru/top/"
                                                                              class="task__link">Kinopoisk Top 250</a>.
        Optionally you can try to create a script for grabbing data from website into <span class="task__inline-code">top250.json</span>.
    </div>

    <div class="task__statement">
        3. Implement logic for the following URLs:
        <br><br>
        <span class="task__inline-code">GET /api/films/readall</span> - returns an array of films sorted by the <span
            class="task__inline-code">position</span> field in ascending order
        <br><br>
        <span class="task__inline-code">GET /api/films/read</span> - returns a film by the <span
            class="task__inline-code">id</span> passed in the request body
        <br><br>
        <span class="task__inline-code">POST /api/films/create</span> - creates a film with the parameters passed in the
        request body / <span class="task__inline-code">id</span> is generated on the server / if a film with this
        position already exists, then all films from this position shift down one / the server returns the created movie
        <br><br>
        <span class="task__inline-code">POST /api/films/update</span> - updates the movie with the passed parameters by
        the passed <span class="task__inline-code">id</span> / here we also do not forget about the shift / we return
        the updated movie / the client can send only part of the fields for updating
        <br><br>
        <span class="task__inline-code">POST /api/films/delete</span> - deletes the movie by the passed <span
            class="task__inline-code">id</span> / we shift the remaining movies so that there are no spaces
    </div>

    <div class="task__statement">
        4. Add validation of incoming requests. For example, when creating a movie, the client did not send all the
        information - we return an error to him. Or the date is before the invention of cinematography, or a negative
        budget/box office, etc.
    </div>

    <div class="task__statement">
        5. Provide for the case when a client sends a movie for creation/update with a position that creates a gap. In
        this case, we need to change the sent position. For example, we have two movies with positions 1, 2. The client
        sends a movie for position 5. We assign position 3 to this movie.
    </div>
</section>

<section class="task">
    <div class="task__statement">
        Synchronize the local repository with the remote one (push to Github)
    </div>
</section>

<section class="task task_questions">
    <div class="task__statement">
        <input class="task__checkbox" type="checkbox">
        <span>
Drop a link to the GitHub repository.
</span>
    </div>

    <div class="task__statement">
        <input class="task__checkbox" type="checkbox">
        <span>
Demonstrate server work via Postman (drop screenshots)
</span>
    </div>
</section>

<section class="task task_extras">
    <div class="task__statement">
        <a class="task__link" target="_blank" href="http://expressjs.com/en/4x/api.html">Express Documentation</a>
    </div>
</section>

<section class="solution">
    <pre><code class="javascript"></code></pre>
</section>

<script src="assets/jquery-3.2.1.min.js"></script>
<script src="assets/highlight.pack.js"></script>
<script src="assets/script.js"></script>
</body>
</html>